<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>谢亮Xx自行车胎压计算器</title>
    <!-- 引入Font Awesome图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 全局重置和基础设置 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* CSS变量定义 */
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
        }

        /* 整体页面样式 */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 主容器样式 */
        .container {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        /* 页眉样式 */
        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        header p {
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
            opacity: 0.9;
        }

        /* 计算器卡片样式 */
        .calculator-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin-bottom: 30px;
        }

        /* 卡片头部样式 */
        .card-header {
            background: var(--secondary);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .card-header h2 {
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* 卡片主体样式 */
        .card-body {
            padding: 30px;
        }

        /* 表单行布局 */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 25px;
        }

        /* 输入组样式 */
        .input-group {
            flex: 1;
            min-width: 250px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* 输入容器 */
        .input-container {
            position: relative;
        }

        /* 输入框和选择框样式 */
        input, select {
            width: 100%;
            padding: 14px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        /* 输入框和选择框获得焦点时的样式 */
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            background: white;
        }

        /* 单位标签样式 */
        .unit {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* 开关样式 */
        .switch-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* 计算按钮样式 */
        .btn-calculate {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 16px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 10px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
        }

        /* 按钮悬停效果 */
        .btn-calculate:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.6);
        }

        /* 按钮按下效果 */
        .btn-calculate:active {
            transform: translateY(1px);
        }

        /* 结果卡片样式 */
        .result-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        /* 淡入动画关键帧 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 结果头部样式 */
        .result-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--secondary);
        }

        /* 胎压显示区域样式 */
        .pressure-display {
            background: linear-gradient(to right, #3498db, #2c3e50);
            color: white;
            text-align: center;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .pressure-display h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* 胎压值样式 */
        .pressure-value {
            font-size: 3rem;
            font-weight: 700;
            margin: 10px 0;
        }

        /* 胎压范围样式 */
        .pressure-range {
            font-size: 1.3rem;
            font-weight: 600;
            margin: 5px 0;
        }

        /* 建议区域样式 */
        .recommendation {
            background: #e8f4fc;
            border-left: 4px solid var(--primary);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-top: 20px;
        }

        .recommendation h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: var(--secondary);
        }

        /* 轮胎信息区域样式 */
        .tire-info {
            display: flex;
            justify-content: space-around;
            margin-top: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }

        /* 轮胎卡片样式 */
        .tire-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            text-align: center;
            flex: 1;
            min-width: 200px;
            border: 1px solid #eee;
        }

        .tire-card h4 {
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* 轮胎数值样式 */
        .tire-card .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        /* 信息区域样式 */
        .info-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .info-section h3 {
            color: var(--secondary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
        }

        /* 信息网格布局 */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* 信息卡片样式 */
        .info-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--primary);
        }

        .info-card h4 {
            color: var(--secondary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-card p {
            line-height: 1.6;
        }

        /* 胎压参考表样式 */
        .tire-pressure-chart {
            margin-top: 25px;
            overflow-x: auto;
        }

        /* 表格样式 */
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        /* 表头样式 */
        th {
            background-color: var(--secondary);
            color: white;
            font-weight: 600;
        }

        /* 表格行样式 */
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        /* 行悬停效果 */
        tr:hover {
            background-color: #e8f4fc;
        }

        /* 页脚样式 */
        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 30px;
            font-size: 0.9rem;
        }

        /* 响应式设计 - 平板及以下 */
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 15px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .pressure-value {
                font-size: 2.5rem;
            }
            
            .tire-info {
                flex-direction: column;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }

        /* 响应式设计 - 手机 */
        @media (max-width: 480px) {
            .card-body, .info-section {
                padding: 20px;
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            .pressure-value {
                font-size: 2rem;
            }
            
            th, td {
                padding: 8px 10px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 页眉区域 -->
        <header>
            <h1><i class="fas fa-bicycle"></i>谢亮 自行车胎压计算器</h1>
            <p>根据您的体重、自行车类型、轮胎尺寸和类型，精确计算最佳胎压</p>
        </header>
        
        <!-- 计算器卡片 -->
        <div class="calculator-card">
            <div class="card-header">
                <h2><i class="fas fa-calculator"></i> 输入您的骑行信息</h2>
            </div>
            <div class="card-body">
                <!-- 第一行输入组 -->
                <div class="form-row">
                    <!-- 骑手体重输入 -->
                    <div class="input-group">
                        <label for="weight"><i class="fas fa-weight"></i> 骑手体重 (kg)</label>
                        <div class="input-container">
                            <input type="number" id="weight" min="20" max="200" step="0.1" placeholder="例如：68.5" required>
                            <span class="unit">kg</span>
                        </div>
                    </div>
                    
                    <!-- 自行车类型选择 -->
                    <div class="input-group">
                        <label for="bikeType"><i class="fas fa-bicycle"></i> 自行车类型</label>
                        <select id="bikeType">
                            <option value="公路车">公路自行车</option>
                            <option value="山地车">山地自行车</option>
                            <option value="混合车">混合/通勤自行车</option>
                            <option value="gravel">Gravel自行车</option>
                        </select>
                    </div>
                </div>
                
                <!-- 第二行输入组 -->
                <div class="form-row">
                    <!-- 轮胎宽度输入 -->
                    <div class="input-group">
                        <label id="tireLabel" for="tireWidth"><i class="fas fa-tire"></i> 轮胎宽度</label>
                        <div class="input-container">
                            <input type="number" id="tireWidth" step="0.1" placeholder="例如：25" required>
                            <span class="unit" id="tireUnit">mm</span>
                        </div>
                    </div>
                    
                    <!-- 额外负载输入 -->
                    <div class="input-group">
                        <label for="load"><i class="fas fa-shopping-bag"></i> 额外负载 (kg)</label>
                        <div class="input-container">
                            <input type="number" id="load" min="0" max="50" step="0.1" placeholder="例如：5.2" value="0">
                            <span class="unit">kg</span>
                        </div>
                    </div>
                </div>
                
                <!-- 第三行输入组 - 轮胎类型 -->
                <div class="form-row">
                    <!-- 轮胎类型选择 -->
                    <div class="input-group">
                        <label for="tireType"><i class="fas fa-tire"></i> 轮胎类型</label>
                        <select id="tireType">
                            <option value="普通胎">普通轮胎</option>
                            <option value="真空胎">真空轮胎</option>
                        </select>
                    </div>
                    
                    <!-- 骑行风格选择 -->
                    <div class="input-group">
                        <label for="ridingStyle"><i class="fas fa-road"></i> 骑行风格</label>
                        <select id="ridingStyle">
                            <option value="舒适">舒适型</option>
                            <option value="标准">标准型</option>
                            <option value="竞技">竞技型</option>
                        </select>
                    </div>
                </div>
                
                <!-- 计算按钮 -->
                <button class="btn-calculate" onclick="calculate()">
                    <i class="fas fa-calculator"></i> 计算推荐胎压
                </button>
            </div>
        </div>
        
        <!-- 结果卡片（初始隐藏） -->
        <div class="result-card" id="result">
            <div class="result-header">
                <i class="fas fa-tachometer-alt fa-2x"></i>
                <h2>胎压计算结果</h2>
            </div>
            
            <!-- 胎压显示区域 -->
            <div class="pressure-display">
                <h3><i class="fas fa-tire-pressure-warning"></i> 推荐胎压范围</h3>
                <div class="pressure-value" id="pressureRange">85-95 PSI</div>
                <div class="pressure-range">(5.9 - 6.5 bar)</div>
            </div>
            
            <!-- 前后轮胎压信息 -->
            <div class="tire-info">
                <div class="tire-card">
                    <h4><i class="fas fa-tire"></i> 前轮胎压</h4>
                    <div class="value" id="frontTire">85 PSI</div>
                    <div>(5.9 bar)</div>
                </div>
                
                <div class="tire-card">
                    <h4><i class="fas fa-tire"></i> 后轮胎压</h4>
                    <div class="value" id="rearTire">95 PSI</div>
                    <div>(6.5 bar)</div>
                </div>
            </div>
            
            <!-- 专业建议 -->
            <div class="recommendation">
                <h4><i class="fas fa-lightbulb"></i> 专业建议</h4>
                <p id="recommendationText">对于公路自行车，建议使用较高胎压以获得最佳性能。在潮湿路面可略微降低胎压增加抓地力。定期检查胎压可延长轮胎寿命并提高骑行效率。</p>
            </div>
        </div>
        
        <!-- 信息区域 -->
        <div class="info-section">
            <h3><i class="fas fa-info-circle"></i> 关于自行车胎压的专业知识</h3>
            <p>正确的胎压对骑行效率、舒适性和安全性至关重要。胎压过高会降低抓地力并增加颠簸感，胎压过低则增加爆胎风险和滚动阻力。</p>
            
            <!-- 信息卡片网格 -->
            <div class="info-grid">
                <div class="info-card">
                    <h4><i class="fas fa-road"></i> 公路自行车</h4>
                    <p>高压范围：80-130 PSI (5.5-9 bar)<br>窄胎需要更高压力</p>
                </div>
                
                <div class="info-card">
                    <h4><i class="fas fa-mountain"></i> 山地自行车</h4>
                    <p>低压范围：25-50 PSI (1.7-3.4 bar)<br>宽胎在低压力下表现更好</p>
                </div>
                
                <div class="info-card">
                    <h4><i class="fas fa-bicycle"></i> 混合/Gravel车</h4>
                    <p>中压范围：50-80 PSI (3.4-5.5 bar)<br>平衡舒适性与效率</p>
                </div>
                
                <div class="info-card">
                    <h4><i class="fas fa-tire"></i> 真空轮胎</h4>
                    <p>真空胎可使用更低胎压<br>提供更好的抓地力和舒适性<br>减少爆胎风险</p>
                </div>
            </div>
            
            <!-- 胎压参考表 -->
            <div class="tire-pressure-chart">
                <h4><i class="fas fa-table"></i> 胎压参考表</h4>
                <table>
                    <thead>
                        <tr>
                            <th>自行车类型</th>
                            <th>轮胎宽度</th>
                            <th>轮胎类型</th>
                            <th>骑手体重 (kg)</th>
                            <th>推荐胎压 (PSI)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>公路自行车</td>
                            <td>23-25mm</td>
                            <td>普通胎</td>
                            <td>60-70kg</td>
                            <td>90-110</td>
                        </tr>
                        <tr>
                            <td>公路自行车</td>
                            <td>23-25mm</td>
                            <td>真空胎</td>
                            <td>60-70kg</td>
                            <td>75-95</td>
                        </tr>
                        <tr>
                            <td>公路自行车</td>
                            <td>28-32mm</td>
                            <td>普通胎</td>
                            <td>60-70kg</td>
                            <td>70-90</td>
                        </tr>
                        <tr>
                            <td>公路自行车</td>
                            <td>28-32mm</td>
                            <td>真空胎</td>
                            <td>60-70kg</td>
                            <td>60-80</td>
                        </tr>
                        <tr>
                            <td>山地自行车</td>
                            <td>2.0-2.2英寸</td>
                            <td>普通胎</td>
                            <td>60-70kg</td>
                            <td>30-40</td>
                        </tr>
                        <tr>
                            <td>山地自行车</td>
                            <td>2.0-2.2英寸</td>
                            <td>真空胎</td>
                            <td>60-70kg</td>
                            <td>25-35</td>
                        </tr>
                        <tr>
                            <td>山地自行车</td>
                            <td>2.3-2.5英寸</td>
                            <td>普通胎</td>
                            <td>60-70kg</td>
                            <td>25-35</td>
                        </tr>
                        <tr>
                            <td>山地自行车</td>
                            <td>2.3-2.5英寸</td>
                            <td>真空胎</td>
                            <td>60-70kg</td>
                            <td>20-30</td>
                        </tr>
                        <tr>
                            <td>混合自行车</td>
                            <td>35-40mm</td>
                            <td>普通胎</td>
                            <td>60-70kg</td>
                            <td>50-70</td>
                        </tr>
                        <tr>
                            <td>混合自行车</td>
                            <td>35-40mm</td>
                            <td>真空胎</td>
                            <td>60-70kg</td>
                            <td>40-60</td>
                        </tr>
                        <tr>
                            <td>Gravel自行车</td>
                            <td>38-45mm</td>
                            <td>普通胎</td>
                            <td>60-70kg</td>
                            <td>35-55</td>
                        </tr>
                        <tr>
                            <td>Gravel自行车</td>
                            <td>38-45mm</td>
                            <td>真空胎</td>
                            <td>60-70kg</td>
                            <td>30-45</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- 页脚 -->
        <footer>
            <p>© 2023 自行车胎压计算器 | 使用专业算法计算 | 建议每月检查胎压</p>
        </footer>
    </div>

    <script>
        // 当自行车类型改变时更新轮胎宽度标签和单位
        document.getElementById('bikeType').addEventListener('change', function() {
            const label = document.getElementById('tireLabel');
            const unit = document.getElementById('tireUnit');
            
            // 如果是山地车，使用英寸单位
            if(this.value === '山地车') {
                label.innerHTML = '<i class="fas fa-tire"></i> 轮胎宽度 (英寸)';
                unit.textContent = '英寸';
                document.getElementById('tireWidth').placeholder = '例如：2.2';
            } else {
                // 其他车型使用毫米单位
                label.innerHTML = '<i class="fas fa-tire"></i> 轮胎宽度';
                unit.textContent = 'mm';
                document.getElementById('tireWidth').placeholder = '例如：25';
            }
        });

        // PSI转Bar换算函数
        function psiToBar(psi) {
            return (psi * 0.0689476).toFixed(1); // 保留1位小数
        }

        // 主计算函数
        function calculate() {
            // 获取输入值
            const weight = parseFloat(document.getElementById('weight').value) || 0;
            const bikeType = document.getElementById('bikeType').value;
            const tireWidth = parseFloat(document.getElementById('tireWidth').value) || 0;
            const load = parseFloat(document.getElementById('load').value) || 0;
            const tireType = document.getElementById('tireType').value;
            const ridingStyle = document.getElementById('ridingStyle').value;
            
            // 计算总重量
            const totalWeight = weight + load;

            // 验证输入是否有效
            if(!weight || !tireWidth) {
                alert("请输入体重和轮胎宽度");
                return;
            }

            // 初始化变量
            let frontLow, frontHigh, rearLow, rearHigh;
            let recommendationText = "";

            // 根据不同车型使用不同的计算公式
            switch(bikeType) {
                case '公路车':
                    // 公路车胎压计算公式
                    const roadBase = 23; // 基础胎宽
                    const roadFactor = 1.25; // 计算因子
                    
                    // 前轮胎压计算
                    frontLow = totalWeight * 1.1 * roadFactor - (tireWidth - roadBase) * 1.8;
                    frontHigh = totalWeight * 1.2 * roadFactor - (tireWidth - roadBase) * 1.8;
                    // 后轮胎压计算
                    rearLow = totalWeight * 1.3 * roadFactor - (tireWidth - roadBase) * 1.8;
                    rearHigh = totalWeight * 1.4 * roadFactor - (tireWidth - roadBase) * 1.8;
                    
                    // 专业建议文本
                    recommendationText = "对于公路自行车，建议使用较高胎压以获得最佳性能。在潮湿路面可略微降低胎压增加抓地力。定期检查胎压可延长轮胎寿命并提高骑行效率。";
                    break;
                
                case '山地车':
                    // 山地车胎压计算公式（使用英寸单位）
                    const mtbBase = 2.0; // 基础胎宽（英寸）
                    const mtbFactor = 0.4; // 计算因子
                    const mtbAdjust = 5; // 基础调整值
                    
                    // 前轮胎压计算
                    frontLow = (totalWeight * mtbFactor) / tireWidth + mtbAdjust;
                    frontHigh = frontLow * 1.2;
                    // 后轮胎压计算
                    rearLow = (totalWeight * mtbFactor * 1.2) / tireWidth + mtbAdjust;
                    rearHigh = rearLow * 1.2;
                    
                    // 专业建议文本
                    recommendationText = "山地自行车建议使用较低胎压以提高抓地力和舒适性。在崎岖地形可进一步降低胎压（但不要低于最低推荐值）。注意过低胎压会增加蛇咬风险。";
                    break;
                
                case '混合车':
                    // 混合车胎压计算公式
                    const hybridBase = 28; // 基础胎宽
                    const hybridFactor = 0.7; // 计算因子
                    
                    // 前轮胎压计算
                    frontLow = totalWeight * 0.65 * hybridFactor - (tireWidth - hybridBase) * 0.8;
                    frontHigh = totalWeight * 0.75 * hybridFactor - (tireWidth - hybridBase) * 0.8;
                    // 后轮胎压计算
                    rearLow = totalWeight * 0.85 * hybridFactor - (tireWidth - hybridBase) * 0.8;
                    rearHigh = totalWeight * 0.95 * hybridFactor - (tireWidth - hybridBase) * 0.8;
                    
                    // 专业建议文本
                    recommendationText = "混合自行车需要平衡效率与舒适性。根据路面情况调整胎压 - 平整路面使用较高胎压，颠簸路面降低胎压。携带重物时适当增加胎压。";
                    break;
                    
                case 'gravel':
                    // Gravel车胎压计算公式
                    const gravelBase = 38; // 基础胎宽
                    const gravelFactor = 0.6; // 计算因子
                    
                    // 前轮胎压计算
                    frontLow = totalWeight * 0.5 * gravelFactor - (tireWidth - gravelBase) * 0.7;
                    frontHigh = totalWeight * 0.6 * gravelFactor - (tireWidth - gravelBase) * 0.7;
                    // 后轮胎压计算
                    rearLow = totalWeight * 0.65 * gravelFactor - (tireWidth - gravelBase) * 0.7;
                    rearHigh = totalWeight * 0.75 * gravelFactor - (tireWidth - gravelBase) * 0.7;
                    
                    // 专业建议文本
                    recommendationText = "Gravel自行车需要多功能胎压设置。在铺装路面使用较高胎压，越野时降低10-15%胎压。考虑安装无内胎系统以获得更好的低压性能。";
                    break;
            }

            // 根据轮胎类型调整胎压
            if (tireType === '真空胎') {
                // 真空胎可以使用更低的胎压
                frontLow *= 0.85;
                frontHigh *= 0.85;
                rearLow *= 0.85;
                rearHigh *= 0.85;
                
                recommendationText += " 您使用的是真空轮胎，可以使用更低的胎压，提供更好的抓地力和舒适性，同时减少爆胎风险。";
            }

            // 根据骑行风格调整胎压
            switch(ridingStyle) {
                case '舒适':
                    frontLow *= 0.9;
                    frontHigh *= 0.9;
                    rearLow *= 0.9;
                    rearHigh *= 0.9;
                    recommendationText += " 您选择了舒适型骑行风格，胎压已相应降低以提供更舒适的骑行体验。";
                    break;
                case '竞技':
                    frontLow *= 1.1;
                    frontHigh *= 1.1;
                    rearLow *= 1.1;
                    rearHigh *= 1.1;
                    recommendationText += " 您选择了竞技型骑行风格，胎压已相应提高以获得更好的滚动效率和速度。";
                    break;
            }

            // 设置不同车型的最小和最大胎压
            let minPressure = 15;
            let maxPressure = 120;
            
            // 根据不同车型调整胎压范围
            if(bikeType === '山地车') {
                minPressure = 20;
                maxPressure = 50;
            } else if(bikeType === 'gravel') {
                minPressure = 30;
                maxPressure = 80;
            } else if(bikeType === '混合车') {
                minPressure = 40;
                maxPressure = 90;
            }
            
            // 应用边界限制（确保胎压在合理范围内）
            frontLow = Math.max(Math.round(frontLow), minPressure);
            frontHigh = Math.max(Math.round(frontHigh), frontLow + 5);
            rearLow = Math.max(Math.round(rearLow), minPressure);
            rearHigh = Math.max(Math.round(rearHigh), rearLow + 5);
            
            // 应用上限限制
            frontLow = Math.min(frontLow, maxPressure);
            frontHigh = Math.min(frontHigh, maxPressure);
            rearLow = Math.min(rearLow, maxPressure);
            rearHigh = Math.min(rearHigh, maxPressure);

            // 显示结果
            document.getElementById('pressureRange').textContent = `${frontLow}-${frontHigh} PSI (前轮) / ${rearLow}-${rearHigh} PSI (后轮)`;
            document.getElementById('frontTire').textContent = `${Math.round((frontLow + frontHigh)/2)} PSI`;
            document.getElementById('rearTire').textContent = `${Math.round((rearLow + rearHigh)/2)} PSI`;
            document.getElementById('recommendationText').textContent = recommendationText;
            
            // 显示结果卡片
            document.getElementById('result').style.display = 'block';
            
            // 平滑滚动到结果区域
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }
        
        // 页面加载完成后设置默认值
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('weight').value = '70';
            document.getElementById('tireWidth').value = '28';
        });
    </script>
</body>
</html>
